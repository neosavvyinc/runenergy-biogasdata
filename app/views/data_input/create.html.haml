.data-input.create
  = render 'shared/dashboard_actions', :landfill_operators => @landfill_operators, :sites => @sites, :sections => @sections, :assets => @assets, :monitor_classes => @monitor_classes,
    :operator => @operator, :site => @site, :monitor_class => @monitor_class, :section => @section, :asset => @asset, :locations_monitor_class => @locations_monitor_class
  .row-fluid{'ng-controller' => 'controllers.DataInputController'}
    %form.span4.form-inline{'ng-show' => 'newDataValues.selectedMonitorClass != null', :style => 'display: none;'}
      %h5 Asset
      %mac-autocomplete{'mac-autocomplete-url' => 'getAssetAutoCompleteUrl(newDataValues.selectedSite, newDataValues.selectedMonitorClass)', 'mac-autocomplete-query' => 'asset_unique_identifier', 'ng-model' => 'assetUniqueIdentifier', 'mac-autocomplete-label' => 'uid'}
      %h5 Date
      %input{'ng-model' => 'readingDate', 'type' => 'text', 'date-format' => 'dd/mm/yyyy', 'bs-datepicker' => true}
      %h5 Time
      %re-masked-time-input{'time' => 'readingTime'}
      %h5 Field Log
      .field-log{'ng-repeat' => 'flp in newDataValues.selectedMonitorClass.field_log_points'}
        %label{'ng-bind' => 'flp.name'}
        %input{'ng-model' => 'currentFieldLog[flp.name]', 'type' => 'checkbox'}
      %h5 Data
      .monitor-point{'ng-repeat' => 'mp in newDataValues.selectedMonitorClass.monitor_points_for_all_locations'}
        %label {{mp.name + ' (' + mp.unit + ')'}}
        %input{'ng-model' => 'currentReading[mp.name]'}
        .limit-warning
          %label{'ng-bind' => 'getMonitorLimitWarning(mp.name, currentReading[mp.name])'}
      %a.btn.btn-success.add{'ng-click' => 'onAdd()'} Add
      %a.btn.btn-warning.reset{'ng-click' => 'onReset()'} Reset
    .span8{'ng-show' => 'newDataValues.selectedMonitorClass != null'}
      = render 'shared/data_table', :angular_controller => 'controllers.PreviewCreate', :monitor_points => @monitor_points